<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Speech to Text</title>
</head>
<body>
<h1>Speech to Text</h1>
<button onclick="startListening()">Start Listening</button>
<button onclick="stopListening()">Stop Listening</button>
<p id="output"></p>

<script>
  const output = document.getElementById('output');
  let recognition;

  function startListening() {
    recognition = new webkitSpeechRecognition() || new SpeechRecognition();
    recognition.lang = 'en-US';
    recognition.interimResults = true;
    recognition.continuous = true;

    recognition.onresult = function(event) {
      const transcript = Array.from(event.results)
        .map(result => result[0].transcript)
        .join('');
      output.textContent = transcript;
    };

    recognition.onerror = function(event) {
      output.textContent = 'Error occurred in recognition: ' + event.error;
    };

    recognition.onend = function() {
      output.textContent += ' (Speech recognition ended)';
    };

    recognition.start();
  }

  function stopListening() {
    if (recognition) {
      recognition.stop();
    }
  }
</script>
</body>
</html>
